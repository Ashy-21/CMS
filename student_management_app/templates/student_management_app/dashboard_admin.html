{% extends "student_management_app/base.html" %}
{% block title %}HOD Dashboard{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-4">
    <div class="card p-3">
      <h5>
        {% if college_profile %}
          {{ college_profile.name }}
        {% else %}
          College Admin
        {% endif %}
      </h5>
      <p class="text-muted">
        {% if college_profile %}{{ college_profile.tagline }}{% endif %}
      </p>
      <ul class="list-group mt-2">
        <li class="list-group-item"><strong>Total Students:</strong> {{ total_students }}</li>
        <li class="list-group-item"><strong>Total Staff:</strong> {{ total_staffs }}</li>
        <li class="list-group-item"><strong>Total Courses:</strong> {{ total_courses }}</li>
      </ul>
    </div>
    <div class="card p-3 mt-3">
      <a href="/admin/" class="btn btn-primary w-100">Open Django Admin</a>
    </div>
  </div>

  <div class="col-md-8">
    <div class="card p-3">
      <h5>Pending Staff Leaves</h5>
      {% if pending_staff_leaves %}
        <ul class="list-group">
          {% for l in pending_staff_leaves %}
            <li class="list-group-item">
              {{ l.staff.admin.username }} — {{ l.date }} — {{ l.message|truncatechars:120 }}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-muted">No pending staff leaves.</p>
      {% endif %}
    </div>

    <div class="card p-3 mt-3">
      <h5>Pending Student Leaves</h5>
      {% if pending_student_leaves %}
        <ul class="list-group">
          {% for l in pending_student_leaves %}
            <li class="list-group-item">
              {{ l.student.admin.username }} — {{ l.date }} — {{ l.message|truncatechars:120 }}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-muted">No pending student leaves.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
